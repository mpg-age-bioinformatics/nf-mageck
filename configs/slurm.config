process {
    withName:procount {
        executor='slurm'
        queue="${params.queue}"
        cpus=8
        memory='20GB'
        time='1h'
        container = "${params.image_folder}mageck-e94a4f7.sif"
        containerOptions = "${params.extra_mounts} -B ${params.project_folder}:${params.project_folder} -B ${params.input_count}:${params.input_count} -B ${params.library}:${params.library}"
    }
    withName:pretest {
        container = "${params.image_folder}mageck-e94a4f7.sif"
        containerOptions = "${params.extra_mounts} -B ${params.project_folder}:${params.project_folder} -B ${params.samples_tsv}:${params.samples_tsv}"
    }
    withName:protest {
        executor='slurm'
        queue="${params.queue}"
        cpus=1
        memory='5GB'
        time='30m'
        container = "${params.image_folder}mageck-e94a4f7.sif"
        containerOptions = "${params.extra_mounts} -B ${params.project_folder}:${params.project_folder}"
    }
    withName:pressc {
        container = "${params.image_folder}mageck-e94a4f7.sif"
        containerOptions = "${params.extra_mounts} -B ${params.project_folder}:${params.project_folder} -B ${params.library}:${params.library}"
    }
    withName:prossc {
        container = "${params.image_folder}mageck-e94a4f7.sif"
        containerOptions = "${params.extra_mounts} -B ${params.project_folder}:${params.project_folder}"
    }
    withName:premle {
        container = "${params.image_folder}mageck-e94a4f7.sif"
        containerOptions = "${params.extra_mounts} -B ${params.project_folder}:${params.project_folder} -B ${params.samples_tsv}:${params.samples_tsv}"
    }
    withName:promle {
        executor='slurm'
        queue="${params.queue}"
        cpus=10
        memory='50GB'
        time='12h'
        container = "${params.image_folder}mageck-e94a4f7.sif"
        containerOptions = "${params.extra_mounts} -B ${params.project_folder}:${params.project_folder}"
    }
    withName:merge_sumaries {
        executor='slurm'
        queue="${params.queue}"
        cpus=1
        memory='10GB'
        time='30m'
        container = "${params.image_folder}mageck-e94a4f7.sif"
        containerOptions = "${params.extra_mounts} -B ${params.project_folder}:${params.project_folder} -B ${params.library_xlsx}:${params.library_xlsx}"
    }
    withName:propathway {
        executor='slurm'
        queue="${params.queue}"
        cpus=1
        memory='8GB'
        time='30m'
        container = "${params.image_folder}mageck-e94a4f7.sif"
        containerOptions = "${params.extra_mounts} -B ${params.project_folder}:${params.project_folder} -B ${params.gmt_file}:${params.gmt_file}"
    }
    withName:propathtargz {
        executor='slurm'
        queue="${params.queue}"
        cpus=1
        memory='20GB'
        time='5h'
        container = "${params.image_folder}mageck-e94a4f7.sif"
        containerOptions = "${params.extra_mounts} -B ${params.project_folder}:${params.project_folder} -B ${params.gmt_file}:${params.gmt_file}"
    }
    withName:proplot {
        executor='slurm'
        queue="${params.queue}"
        cpus=1
        memory='20GB'
        time='5h'
        container = "${params.image_folder}mageck-e94a4f7.sif"
        containerOptions = "${params.extra_mounts} -B ${params.project_folder}:${params.project_folder}"
    }

}

